document.addEventListener("DOMContentLoaded",function(){console.log("✅ home.js carregado com sucesso!");const n=document.querySelector(".logo h1");if(n){const e=n.textContent;n.textContent="";let t=0;const c=()=>{t<e.length&&(n.textContent+=e.charAt(t),t++,setTimeout(c,100))};setTimeout(c,500)}const r=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&t.target.classList.add("animated")})},{threshold:.3});document.querySelectorAll(".menu-link, .social-link").forEach(e=>r.observe(e)),document.querySelectorAll("a").forEach(e=>{e.addEventListener("click",function(t){this.getAttribute("target")!=="_blank"&&(t.preventDefault(),this.classList.add("clicked"),setTimeout(()=>{window.location.href=this.href},300))})});const d=document.getElementById("btnAdminAccess"),o=document.getElementById("adminAccessModal"),a=document.getElementById("closeModalBtn"),l=document.getElementById("verifyCodeBtn"),i=document.getElementById("adminCode"),s=document.getElementById("errorMsg");d&&o&&(d.addEventListener("click",()=>{o.classList.remove("hidden"),s.classList.add("hidden"),i.value=""}),a.addEventListener("click",()=>{o.classList.add("hidden")}),l.addEventListener("click",async()=>{const e=i.value.trim();if(e)try{const t=await fetch("/check-access-code",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({code:e})});t.ok&&(await t.json()).success?window.location.href="/login":s.classList.remove("hidden")}catch(t){console.error("Erro na verificação:",t),s.classList.remove("hidden")}}),window.addEventListener("keydown",e=>{e.key==="Escape"&&o.classList.add("hidden")}))});
