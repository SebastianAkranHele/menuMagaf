document.addEventListener("DOMContentLoaded",function(){console.log("✅ home.js carregado com sucesso!");const s=document.querySelector(".logo h1");if(s){const e=s.textContent.trim();s.textContent="";let t=0;const n=()=>{t<e.length&&(s.textContent+=e.charAt(t),t++,setTimeout(n,100))};setTimeout(n,500)}const m=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&t.target.classList.add("animated")})},{threshold:.3});document.querySelectorAll(".menu-link, .social-link").forEach(e=>m.observe(e)),document.querySelectorAll("a[href]").forEach(e=>{e.addEventListener("click",function(t){this.getAttribute("target")!=="_blank"&&(t.preventDefault(),this.classList.add("clicked"),setTimeout(()=>window.location.href=this.href,300))})});const r=document.getElementById("btnAdminAccess"),o=document.getElementById("adminAccessModal"),d=document.getElementById("closeModalBtn"),i=document.getElementById("verifyCodeBtn"),a=document.getElementById("adminCode"),c=document.getElementById("errorMsg");r&&o&&(r.addEventListener("click",()=>{o.classList.remove("hidden"),c.classList.add("hidden"),a.value="",a.focus()}),d==null||d.addEventListener("click",()=>o.classList.add("hidden")),i==null||i.addEventListener("click",async()=>{const e=a.value.trim();if(!e)return;const t=window.open("","_blank");try{const n=await fetch("/check-access-code",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({code:e})});n.ok&&(await n.json()).success?(t.location.href="/admin/login",o.classList.add("hidden")):(t.close(),c.classList.remove("hidden"))}catch(n){console.error("Erro na verificação:",n),t.close(),c.classList.remove("hidden")}}),window.addEventListener("keydown",e=>{e.key==="Escape"&&o.classList.add("hidden")}));const l=document.getElementById("logout-alert");l&&setTimeout(()=>{l.style.display="none"},3500)});
